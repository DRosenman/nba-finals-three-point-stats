---
title: "Evolution of The Three Point Shot in the NBA Finals"
output: html_notebook
---
```{r}
library(tidyverse)
library(readr)
```
##Intro
The csv file 'championsdata.csv' and 'runnerupsdata.csv' contain team totals from every NBA finals game since 1980. 'championsdata.csv' contains the team totals for the championship teams and 'runnerupsdata.csv' contains the teams totals for the losing team. I wrangled those files from basketball-reference.com. The 1980 NBA Finals was the first Finals series since the NBA adopted the three point line. I am interested in how three point shooting has varied over time for NBA Finals games. 


##Loading Data

```{r}
#Loading champions NBA Finals game-by-game data
champs <- readr::read_csv('championsdata.csv')   #champs data.frame
as.data.frame(champs)
#champion NBA finals game by game data, variable = champs
```



```{r}
#Loading runner-ups NBA finals game-by-game data
runner_ups <- read.csv('runnerupsdata.csv')
as.data.frame(runner_ups)
#runner-up NBA finals game by game data, variable = runner_up
```
##Creation of data.frame Focusing on The Three
```{r}
#Fixing issue with 'Year' column name
rename(champs,Year =Year)
rename(runner_ups,Year = Year)
```

```{r}
#Creation of Single Column data.frame with champion names
champ_team <- champs %>% filter(Game == 3) %>% select(Team)

#Creation of Single Column data.frme with runner-up names
runner_up_team <- runner_ups %>% filter(Game == 3) %>% select(Team)

#Blending together champs and runner_ups dataframes
champs <- select(champs,-c(X,Team,FGP,TPP,FTP))
runner_ups <- select(runner_ups,-c(Y,Team,FGP,TPP,FTP))
champs_and_runner_ups_by_year <- data.frame(1980:2017,champ_team[1],runner_up_team[1])
colnames(champs_and_runner_ups_by_year) <-  c('Year','Champion','Runner-Up')


```


```{r}
#creation of dataframe with average values for champions and runner-ups in each finals series since 1980
champs_averages <- champs %>% group_by(Year) %>% summarize_each(funs(mean))
champs_averages['Status']  <-  'Champion'
champs_averages['Team']  <- champ_team
runner_ups_averages <- runner_ups %>% group_by(Year) %>% 
summarize_each(funs(mean))
runner_ups_averages['Status']  <-  'Runner Up'            
runner_ups_averages['Team']  <- runner_up_team
averages = rbind(champs_averages,runner_ups_averages)
averages  <- averages %>% arrange(Year,Status)
#dataframe of averages of  champions and runner ups from each nba finals series since 1980
averages <- averages %>% select(Year,Status,Team,everything()) %>%select(-c(Game,Win,Home,MP))



#dataframe of averages of just champs
averages_champs <- averages %>% filter(Status == 'Champion')
#dataframe of averages of just runnerups
averages_runner_ups <- averages %>% filter(Status == 'Runner Up')


```
#Three Point Shooting Averages
```{r}
three_stats <- averages %>% select(Year,Status,Team,PTS,FG,FGA,TP,TPA)
three_stats <- three_stats %>% mutate(FG_Percentage = 100*FG/FGA,TP_Percentage = 100*TP/TPA)
three_stats <- three_stats %>% mutate(Percentage_FG_3s = 100*TP/FG,Percentage_FGA_3s = 100*TPA/FGA,Percentage_Points_3s = 100*3*TP/PTS)
three_stats
```
## Variables:
(Averages are per game)

PTS: Average Point Scored

FG: Average Field Goals Made 

FGA: Average Field Goal Attempts

TP: Average 3 Point Field Goals Made

TPA: Average 3 Point Field Goal Attempts

FG_Percentage: Field Goal Percentage, Series

TP_Percentage: Three Point Field Goal Percentage, Series

Percentage_FG_3s: Percentage of Made Field Goals That Were 3 Point Shot, Series

Percentage_FGA_3S: Percentage of Attempted Field Goals That Were 3 Point Attempts, Series

Percentage_Points_3s: Percentage of Points Scored That Were From 3 Point Shots, Series

##Average Three Point Field Goal Makes

```{r}
ggplot(data = three_stats,mapping = aes(x = Year, y = TP, color = Status)) + ylab("3's Made Per Game") +
  geom_point() +
  geom_line() 
  

```
#Average Three Point Attempts
```{r}
ggplot(data = averages,mapping = aes(x = Year, y = TPA, color = Status)) + ylab("3's Attempted Per Game") +
  geom_point() +
  geom_line() 
```
##Three Point Percentages
```{r}
ggplot(data = averages,mapping = aes(x = Year, y = 100*TP/TPA, color = Status)) + ylab("3 Point Field Goal Percentage") +
  geom_point() +
  geom_line() 
```
##Percentage of Made Field Goals That Were Three Pointers
```{r}
ggplot(data = three_stats,mapping = aes(x = Year, y = Percentage_FG_3s, color = Status)) + ylab("Percentage of Field Goal Makes, 3 Pointers") +
  geom_point() +
  geom_line() 
```
## Percentages of Field Goal Attempts That Were Attemped Three Pointers
```{r}
ggplot(data = three_stats,mapping = aes(x = Year, y = Percentage_FGA_3s, color = Status)) + ylab("Percentage of Field Goal Attempts, 3 Pointers") +
  geom_point() +
  geom_line() 

```
## Percentage of Total Points Scored That Were From Made Three Pointers
```{r}
ggplot(data = three_stats,mapping = aes(x = Year, y = Percentage_Points_3s, color = Status)) + ylab("Percentage of Points From 3 Pointers") +
  geom_point() +
  geom_line()

```

